---
permalink: san-migration/concept_fli_online_workflow.html
sidebar: sidebar
keywords: fli, online, workflow
summary: "This is the second of the four FLI workflow examples, which covers FLI online migration."
---
= FLI online migration workflow summary
:icons: font
:imagesdir: ../media/

[.lead]
In an FLI online migration, FLI from third-party arrays allows the client system to stay online during migration. 

.Before you begin:

* Before you begin an FLI online migration, you should verify that online migration is supported for your host type and your NetApp destination storage array configuration. Online migrations are supported by the following versions of Windows, Linux, or ESXi host operating system. For other host operating systems, you should use the link:prepare-host-offline-migration.html[FLI offline migration process].
+
** Microsoft (all versions of the servers listed are supported):
*** Windows Server 2008 R2 and later (includes Windows Server failover cluster)
*** Microsoft Hyper-V Server 2008 and later
*** Windows Server 2012 and later (includes Windows Server 2012 cluster)
*** Microsoft Hyper-V Server 2012 and later
** VMware ESXi 5.x and later 
** Red Had Enterprise Linux (RHEL) 5.x and later
+
Online migrations are not supported by MetroCluster configurations.  If a site failover occurred during an active online import, write pass-throughs to the source array could fail which would lead to a verification failure and potential data loss.  If your NetApp destination controller is in a MetroCluster configuration, you should use the link:prepare-host-offline-migration.html[FLI offline migration process].

* Prior to migration, you should verify that multipathing is correctly configured and working properly. All available paths to LUNs should be active.

.About this task

To perform an FLI online migration, you should reboot your hosts, prepare the LUN path, perform a disruptive cutover, import the source LUN data, verify migration results, remove the LUN import relationship and perform post-migration tasks.


.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-1.png[One] Prepare your host.
[role="quick-margin-para"]

Perform any necessary host remediation steps and reboot your hosts.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-2.png[Two] Create the LUN import relationship..
[role="quick-margin-para"]

Creating the LUN import relationship includes identifying the foreign LUN to be imported from source array, creating a destination volume to contain the foreign LUN, creating the destination target LUN and finally establishing the import relationship.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-3.png[Three] Map the source LUN to the ONTAP array.

On the foreign array, unmap the LUN to be migrated and remap it to the ONTAP destination array. This process is disruptive.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-4.png[Four] Import the foreign LUN array source data.
[role="quick-margin-para"]

Import the data from the foreign array source LUN to the ONTAP destination LUN.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-5.png[Five] Optionally, verify the migration results.
[role="quick-margin-para"]

Use FLI to perform a block-by-block comparison of the source and destination LUNs to verify that the migration is complete and accurate

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-6.png[Six] Remove the LUN import relationship.
[role="quick-margin-para"]

After the FLI online migration is complete, the LUN import relationship can be safely removed.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-7.png[Seven] Perform post-migration tasks.
[role="quick-margin-para"]

Review logs for errors, check pathing, and perform any application testing to verify that your migration completed cleanly and successfully

// 2025 June 23, ONTAPDOC-3058
// 2022 Dec 05, ONTAPDOC-718
